<!doctype html>
<html>
 <head>
  <meta charset="utf-8">
  <title>Super Rad Chat</title>
  <link rel="stylesheet" type="text/css" href="lib/bootstrap.min.css">

  <style>
    body {
      background-color: '#D9E7FF';
    }

    article {
      margin: 1em 1em 2em;
    }

    #messages {
      height: 500px;
      overflow: scroll;
      background-color: white;
      border: 1px solid #bdc3c7;
      border-radius: 4px;
      padding-left: 1em;
    }

    #form {
      margin-top: 1em;
      padding: 0.5em;
      border: 1px solid #bdc3c7;
      border-radius: 4px;
    }
  </style>
 </head>
 <body>

<div class="container">

 <section class="row">
   <div class="span12">
      <h2 class="page-header">Super Rad Chat</h2>
   </div>
 </section>

 <section class="row">
   <div id="messages">
     <article>
       Messages go here
      </article>
   </div>
 </section>

 <section id="form" class="row">
   <div class="row">
     <div class="col-sm-2">
       <label class="sr-only" for="username">Username:</label>
       <input type="text" class="form-control" id="username" placeholder="User Name">
     </div>
     <div class="col-sm-8">
      <label class="control-label sr-only" for="message">Message:</label>
      <input class="form-control" placeholder="Message" type="text" id="message">
     </div>
      <div class="col-sm-2">
        <button id="send-message" class="btn btn-primary">Send Message</button>
      </div>
   </div>
 </section>
</div>

 <script type="text/javascript" src="lib/jquery.min.js"></script>
 <script>
function insert(message, selector) {
  var $p = $('<p>')
  $p.html(message.username + ': ' + message.message)
  $p.append(' |' + (new Date(message.date).toString()))
  $(selector).append($p)
}

function handleClick(event) {
  event.preventDefault()
  var username = $('#username').val()
  var message = $('#message').val()

  var data = {
    username: username,
    message: message,
    date: Date.now(),
    room: 'foobar'
  }

  insert(data, '#messages')
}

$(function() {
  $('#send-message').click(handleClick)
})

 </script>
 </body>
</html>
