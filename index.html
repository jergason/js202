<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>JS202: AJAX &amp; JSON</title>

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <link rel="stylesheet" href="bower_components/reveal.js/css/reveal.min.css">
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700,800' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="css/theme.css" id="theme">


        <!-- For syntax highlighting -->
        <link rel="stylesheet" href="bower_components/reveal.js/lib/css/zenburn.css" id="highlight-theme">

        <!-- If the query includes 'print-pdf', use the PDF print sheet -->
        <script>
          if( window.location.search.match( /print-pdf/gi ) ) {
            var link = document.createElement( 'link' );
                link.rel = 'stylesheet';
                link.type = 'text/css';
                link.href = 'bower_components/reveal.js/css/print/pdf.css';
                document.getElementsByTagName( 'head' )[0].appendChild( link );
            }
        </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="reveal">

            <div class="slides">

                
                    
                        
<section data-html="slides/ajax-json.html"><h1>AJAX / JSON</h1>
<h2>JS202</h2>
<h3>Girl Develop It</h3></section>


                    
                    
                
                    
                        
<section data-html="slides/welcome.html"><h2>Welcome!</h2>

<p>Girl Develop It is here to provide affordable and accessible programs to learn software through mentorship and hands-on instruction.</p>

<ul>
  <li>Some "rules"</li>
  <li>We are here for you!</li>
  <li>Every question is important</li>
  <li>Help each other</li>
  <li>Have fun</li>
</ul></section>


                    
                    
                
                    
                        
<section data-html="slides/about-me.html"><h2>About Me</h2>

<ul>
  <li>Software Engineer at <a href="http://kuali.co">KualiCo</a></li>
  <li><a href="https://twitter.com/jergason">@jergason</a> on Twitter</li>
  <li>Podcast at <a href="http://jsjabber.com">JavaScript Jabber</a></li>
  <li>Words at <a href="http://jamison.dance">jamison.dance</a></li>
</ul>
</section>


                    
                    
                
                    
                        
<section data-html="slides/disclaimer.html"><h2>A Disclaimer</h2>

<img src="img/hedgehog-tickles.gif">

<aside class="notes">
  I'm doing a lot of things to make concepts easier to understand. I'm teaching AJAX and JSON.

  I'm NOT teaching how to build scalable and maintainable JavaScript applications.
  Lots of the things we are doing are to help you understand concepts. You should
  be able to get stuff working and make stuff.

  Once you have this stuff down, there is another skill set to build great JS
  apps. If you are interested I'd be happy to talk more about it after, at other
  GDI events, on twitter or meetup or email or w/e.
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/classic-apps.html"><h2>Web 1.0</h2>
<h3>Static Content</h3>

<ul>
  <li>display a webpage</li>
  <li>wait for user interaction</li>
  <li>query the server for data</li>
  <li>reload the webpage</li>
</ul>

<p>The user has "down time" - a period of time where they can't interact with the webpage at all.</p>

<aside class="notes">
Web 1.0 is the original vision for the web and HTML. It is document-based. The
user clicks links, and the server sends down a completely new web page in
reponse to every user interaction.</aside>

</section>


                    
                    
                
                    
                        
<section data-html="slides/classic-apps-examples.html"><h2>Web 1.0</h2>

<a target="_blank" href="http://www2.warnerbros.com/spacejam/movie/jam.htm"><img src="img/space_jam.gif"></a>

<a target="_blank" href="http://news.ycombinator.com"><img src="img/hacker-news.png"></a>

<aside class="notes">
Web 1.0 is the original vision for the web and HTML. It is document-based. The
user clicks links, and the server sends down a completely new web page in
reponse to every user interaction.</aside>

</section>


                    
                    
                
                    
                        
<section data-html="slides/static-content-enhanced.html"><h2>Web 1.5</h2>
<h3>Enhanced Content</h3>


<p>Sprinkles of interaction</p>

<div>
  <img src="img/static_content_prog_enhance.png" width="">
</div>

<aside class="notes">
  Web 1.5 is fuzzier, but you could define it as "sprinkles of interaction."
  Documents are still being sent down from the server, most interactions that
  involve data still cause page reloads. However, with the rise of javascript,
  users can interact with web pages purely in the browser, without needing
  to go back to the server for updates. This means things like showing or hiding
  tabs, changing images as your cursor rolls over them, accordian menus, etc,
  are all possible.
</aside>

</section>


                    
                    
                
                    
                        
<section data-html="slides/static-content-enhanced-example.html"><h2>Web 1.5</h2>
<h3>Enhanced Content</h3>

<div>
  <a target="_blank" href="http://nytimes.com"><img src="img/nyt.png" width=""></a>
</div>

<aside class="notes">
  Web 1.5 is fuzzier, but you could define it as "sprinkles of interaction."
  Documents are still being sent down from the server, most interactions that
  involve data still cause page reloads. However, with the rise of javascript,
  users can interact with web pages purely in the browser, without needing
  to go back to the server for updates. This means things like showing or hiding
  tabs, changing images as your cursor rolls over them, accordian menus, etc,
  are all possible.
</aside>

</section>


                    
                    
                
                    
                        
<section data-html="slides/dynamic-content.html"><h2>Web 2.0</h2>
<h3>Dynamic Content!</h3>

<p>Our content isn't static anymore: it's real, live data. We get it from a database (somewhere, more on that later) and use JavaScript and jQuery to display it.</p>

<img src="img/dynamic_content.png">
</section>


                    
                    
                
                    
                        
<section data-html="slides/dynamic-content-examples.html"><h2>Web 2.0</h2>

<a href="https://gdislc.slack.com/messages/general/" target="_blank"><img src="img/slack.png"></a>

<aside class="notes">
  The easiest way to see this at work in slack is when the page loads. The
  skeleton of the page loads quickly, but then it still has a loading screen
  while the JavaScript fetches data from the server and renders it client-side.

  All without a page refresh! Neat!
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/storing-data-json.html"><h1>JSON</h1>
<h2>JavaScript Object Notation</h2>
</section>


                    
                    
                
                    
                        
<section data-html="slides/json-what-is-it.html"><h2>JSON: What is it?</h2>

<ul>
  <li>Hierarchical key/value pairs.</li>
  <li>Keys are inside "double quotes"</li>
  <li>Value can be string, number, boolean, array, or object</li>
  <li>Resembles objects/hash tables/structs of programming languages</li>
  <li>Looks like JavaScript, but other languages can produce and consume it too</li>
  <li>Validate at <a href="http://jsonlint.com">jsonlint.com</a></li>
  <li>Spec at <a href="http://json.org">json.org</a></li>
</ul>

<aside class="notes">
  JSON looks like JavaScript because it *is* JavaScript!  Life is easy for us
  in JS because working with JSON is freeeeeeeeeee!  However, other languages
  can produce and consume JSON as well. It just might not match up with their
  languages syntax, so they have to encode and decode things to and from JSON.
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/json-an-example.html"><h2>JSON: An example</h2>

<pre><code class="js">{
 "firstName": "Jane",
 "lastName": "Smith",
 "address": {
   "streetAddress": "425 2nd Street",
   "city": "San Francisco",
   "state": "CA",
   "postalCode": 94107
 },
 "phoneNumbers":
    [
     "212 732-1234",
     "646 123-4567"
    ]
}
</code></pre>

<aside class="notes">
  Here is what JSON looks like! Keys are strings, values can be strings, other
  objects, arrays containing valid values, etc!
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/writing-some-json.html"><h2>Let's write some JSON</h2>
<p>Go to <a href="http://jsonlint.com">jsonlint.com</a> and create a JSON
object that represents a chat message. It should have

<ul>
  <li>A user name</li>
  <li>A room name</li>
  <li>A message</li>
  <li>A creation date</li>
</ul>
</section>


                    
                    
                
                    
                        
<section data-html="slides/writing-some-json-solution.html"><h2>A Solution</h2>
<pre><code class="js">{
  "username": "Yolo Swaggins",
  "room": "fellowship",
  "date": "March 20th, 2014",
  "message": "just delivered the one bling to mt doom #yolo"
}
</code></pre>
</section>


                    
                    
                
                    
                        
<section data-html="slides/devtools-intro.html"><h2>Developer Console</h2>

<p>A built-in JavaScript REPL!</p>

<ul>
  <li>In Mac Chrome, ⌘-Option-J</li>
  <li>In Mac Firefox, ⌘-Option-K (lol consistency)</li>
  <li>In Windows Chrome, Ctrl-Shift-J</li>
  <li>In Windows Firefox, Ctrl-Shift-K</li>
</ul>

<aside class="notes">
  The developer tools console is our main tool for trying stuff out in the
  browser. It is also our main tool for just running little snippets of JS
  easily.

  Here is how you open it!
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/devtools-exercise.html"><h2>Developer Console</h2>

<pre><code class="js">console.log('hello JS202!')
</code></pre>

<aside class="notes">
  Make sure you can run some code in it!
  Open the console, type `console.log('hello world')`, and hit enter
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/js-json-dom.html"><h2>JS + JSON + DOM</h2>

<pre><code class="js">var myMessage = {
  "username": "Yolo Swaggins",
  "room": "fellowship",
  "date": "March 20th, 2014",
  "message": "just delivered the one bling to mt doom #yolo"
}

var p = document.createElement('p')
p.innerHTML = myMessage.username + ': ' + myMessage.message
p.innerHTML += ' |' + myMessage.date
document.body.appendChild(p)
</code></pre>

<aside class="notes">ok, so what do we do with our JSON? We probably want to
  insert it in to the DOM somehow. Let's do that!
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/jquery-json-dom.html"><h2>jQuery + JSON + DOM</h2>
<pre><code class="js">var myMessage = {
  "username": "Yolo Swaggins",
  "room": "fellowship",
  "date": "March 20th, 2014",
  "message": "just delivered the one bling to mt doom #yolo"
}

var $p = $('&lt;p&gt;')
$p.html(myMessage.username + ': ' + myMessage.message)
$p.append(' |' + myMessage.date)
$('body').append($p)
</code></pre>

<aside class="notes">
  The previous example has a few problems. It might not work in old browsers,
  and it is a little bit verbose.

  We can make it a little bit cleaner with some jQuery sprinkles.

  A lot of frameworks will abstract this away from you and give you a nicer
  way of doing it, but it is great to know how to do it all by hand so you
  appreciate what farmeworks do.


  NOTE: do i talk about frameworks here vs rolling your own?
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/click-handlers.html"><h2>Click Handlers Review</h2>

<pre><code class="js">$('.my-button').click(someCallback)
</code></pre>

<p>When this element is clicked, call our callback!</p>

<button class="my-button">Make A Handler For Me!</button>

<aside class="notes">
  Just a review on click handlers, b/c we will be using them in a lot of our
  examples!

  Open the dev tools and write a click handler for this button!
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/develop-it-exercise-1.html"><h2>Develop It! Exercise 1</h2>

<p>See the <a href="../exercises/1.html">exercise description</a> for details.</p>
</section>


                    
                    
                
                    
                        
<section data-html="slides/develop-it-exercise-1-solution.html"><p>Did you end up with something like this?</p>

<pre><code class="js">function insert(message, selector) {
  var $p = $('&lt;p&gt;')
  $p.html(message.username + ': ' + message.message)
  $p.append(' |' + message.date)
  $(selector).append($p)
}

function handleClick() {
  var username = $('#username').val()
  var message = $('#message').val()

  var data = {
    username: username,
    message: message,
    date: Date.now(),
    room: 'foobar'
  }

  insert(data, '#messages')
}

$(function() {
  $('#send-message').click(handleClick)
})</code></pre>
</section>


                    
                    
                
                    
                        
<section data-html="slides/why-do-this.html"><h1>Why do this?</h1>
<p>Now we know what to do with the data once we have it.</p>
</section>


                    
                    
                
                    
                        
<section data-html="slides/ajax.html"><h2>AJAX</h2>
<p>Asynchronous JavaScript and XML</p>
<p class="fragment">Asynchronous JavaScript and <del>XML</del> JSON</p>

<img class="fragment" src="img/beaker-freakout.gif">

<aside class="notes">
  What does this mean?
  The theme of the web: we use these old platforms and acronyms. XML is a data
  format that looks like HTML, but we won't talk about it today. Instead it
  gets used with JSON.
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/asynchronous.html"><h2>Asynchronous</h2>

<p>Asynchronous technologies make the web <strong>awesome</strong>.</p>

<p>
  <blockquote>
    "In programming, asynchronous events are those occurring independently of the main program flow. Asynchronous actions are actions executed in a non-blocking scheme, allowing the main program flow to continue processing."
  </blockquote>
</p>

<p><strong>But what does this really mean?</strong></p>
</section>


                    
                    
                
                    
                        
<section data-html="slides/asynchronous-coffeeshop.html"><h2>Coffeeshop</h2>

<img src="img/coffeeshop.jpg">

<p>You order a coffee, and wait for them to call your name.</p>
<p>They start making it, but they keep working while your coffee is being made.</p>
<p>They are <strong>asynchronous</strong>.</p>
</section>


                    
                    
                
                    
                        
<section data-html="slides/asynchronous-browser.html"><h2>Browser</h2>

<a href="/materials/placecage.html"><img src="http://placecage.com/150/150"></a>

<p>You click on a button and wait for data to come back.</p>
<p>The browser fetches your data, but still lets you scroll, move the mouse, click on other stuff.</p>
<p>It is <strong>asynchronous</strong>.</p>
</section>


                    
                    
                
                    
                        
<section data-html="slides/ajax-what-else.html"><h2>AJAX</h2>
<p>Requesting data asynchronously from the browser and doing stuff with it.</p>
</section>


                    
                    
                
                    
                        
<section data-html="slides/ajax-what-else-dramatic.html"><h2>AJAX</h2>
<blockquote>Requesting data asynchronously from the browser and doing stuff with it.</blockquote>

<p class="fragment">- Wayne Gretzky</p>
<p class="fragment">- Michael Scott</p>

<aside class="notes">
Wait let's make this more dramatic. Everything looks better in blockquotes. And let's attribute it to a fake famous person. Ok, nice.

Also, does anyone need an overview of what a server is?

</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/xmlhttprequest.html"><h2>XMLHttpRequest</h2>

<pre><code class="js">var req = new XMLHttpRequest()
req.onload = function() {
  console.log('wooo, we finished', req.status)
  console.log('our data is', JSON.parse(req.response))
}
req.open('GET',
  'https://shielded-fjord-9233.herokuapp.com/rooms', true)
req.send()
</code></pre>

<aside class="notes">
  Enough talking, let's hit an API!

  We will jump straight in to the code to do it, and then talk a little bit
  about what we are doing.


  Open up your browser developer tools and enter this in the console. You can
  hit command-enter on a mac to put a newline in the console, or control-enter
  on a windows machine I think?

  Did you ever have a teacher in math class that made you learn something the
  slow awful way only to teach you the easy trick after you had to do one million
  problems the hard way first?
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/client-server.html"><h2>HTTP</h2>
<img src="img/client-server.png">

<aside class="notes">
  Time to talk a little about how computers actually talk to each other.

  Compters are connected on networks. Your computer isn't connected directly to google, but it is connected to someone who is connected to someone who is connected to google.

  To talk to google, your browser uses HTTP, a protocol or set of rules for communication, to tell a server what data it wants. The server then sends a response back, wrapped in the HTTP protocol, which the browser knows how to understand.

  Phone call analogy for protocol -

  Phones identified by numbers. Answer and say hello. Say who is calling. Listen while others are talking. Hanging up is rude, unless you are in a movie. Also NEVER CALL ONLY TEXT GEEZE.

  Evaluate if i need to explain protocols more or not.
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/http-get.html"><h2>What is that 'GET'?</h2>

<pre><code class="js">req.open('GET', 'http://google.com', true)
</code></pre>

<p><code>GET</code> is part of HTTP. It means "get me the data at this URL".</p>

<p>GET requests:</p>

<ul>
  <li>Can be cached for faster lookup later</li>
  <li>Remain in your browser history</li>
  <li>Can be bookmarked</li>
  <li>Have length restrictions</li>
</ul>

<aside class="notes">
  HTTP defines a concept of "VERBS". In HTTP, you hit URLs to get and set data.
  You can use VERBS to tell the server what you want to do with the URLs. GET is
  the most common one. It just means you want to retrieve whatever is at that
  URL.
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/debugging.html"><h2>Debugging</h2>

<p align="center"><img src="img/debug_ajax.png"></p>

<ul>
  <li>Click the Network tab in Chrome Dev Tools or Firebug, select "XHR" filter to see all XMLHttpRequests made.</li>
  <li>See what the request responded with by clicking its "Response" tab.</li>
</ul>
</section>


                    
                    
                
                    
                        
<section data-html="slides/develop-it-exercise-2.html"><h2>Develop It! Exercise 2</h2>

<p>See the <a href="../exercises/2.html">exercise page</a> for details.</p>

<aside class="notes">
  One theme you will notice over and over:

  PUT YOUR CODE IN FUNCTIONS. It should all be in functions. Functions make it easier to understand what your code is doing, easier to change, and easier to write.
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/error-handling.html"><h2>Error Handling</h2>

<p>HTTP uses <a href="http://httpcats.herokuapp.com/">status codes</a> to tell us what happend to the request.</p>

<pre><code class="js">req.onload = function() {
  // check if request succeeded
  if (req.status == 200) {
    renderRooms(JSON.parse(req.response))
  } else {
    console.error('req failed', req.status, req.response)
  }
}
</code></pre>
</section>


                    
                    
                
                    
                        
<section data-html="slides/xmlhttprequest-it-sucks.html"><h1>WELP</h1>

<img src="img/goodbye_cruel_world.gif">

<aside class="notes">
XMLHttpRequst is amazing, because it changed the world, but it is also terrible.

Even the name is awful. Why are all the letters in XML capitalized, but HTTP
is written Http?

The API is cruddy and unfriendly and scary and until recently didn't reliably
work the same in all browsers. THERE IS A BETTER WAY

</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/but.html"><h1>BUT!</h1>
<h2>We don't usually write all of that code.</h2>
<h3>(It is still very important to know)</h3>
</section>


                    
                    
                
                    
                        
<section data-html="slides/relief.html"><h2>WELP</h2>

<img src="img/patrick.gif" alt="Yay!!">
</section>


                    
                    
                
                    
                        
<section data-html="slides/jquery-3-ajax.html"><h2>jQuery &hearts; AJAX</h2>

<p>The jQuery $.<a href="http://api.jquery.com/jQuery.getJSON/">getJSON</a> function is waaaaaaaaaaaay easier.</p>

<pre><code class="js">$.getJSON('https://shielded-fjord-9233.herokuapp.com/rooms',
  function(data, status) {
    console.log('data is', data, 'status is', status)
  })
</code></pre>
</section>


                    
                    
                
                    
                        
<section data-html="slides/realtime-detour.html"><h2>Realtime detour</h2>

<p>What if we want to get updates as soon as they happen? <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setInterval"><code>setInterval</code></a>!</p>

<pre><code class="js">setInterval(callback, interval)
</code></pre>

<aside class="notes">
  What if we want to get updates as soon as they happen? The buzzwordy name for this is REALTIME. Gmail updates when new emails arrive, slack posts new messages when they come in, twitter tells you you have new tweets.

  One easy way to do this is use setInterval. setInterval is a built in JS function that takes a function to call, and a delay in milliseconds. If you give it 1000, it will call the function every 1000 milliseconds.

  Open up your browser console and use setInterval to make the browser log out some string every 5 seconds.
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/realtime-detour-2.html"><h2>Realtime detour</h2>
<pre><code class="js">setInterval(getNewestDataFromServer, 5000)
</code></pre>

<p>Upside: super duper simple on client and server</p>
<p>Downside: very wasteful. ¯\_(ツ)_/¯</p>

<aside class="notes">
  How does this help us with realtime data? Well, what if we put our function that gets data from the server inside a setTimeout loop?

  This has some downsides, but we will ignore them for now! Bug me after if you want to know more about building realtime applications in a scalable way.
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/develop-it-exercise-3.html"><h2>Develop It! Exercise 3</h2>

<p>See the <a href="../exercises/3.html">exercise description</a> for details.</p>
<aside class="notes">
  One theme you will notice over and over:

  PUT YOUR CODE IN FUNCTIONS. It should all be in functions. Functions make it easier to understand what your code is doing, easier to change, and easier to write.
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/http-post.html"><h2>Sending data to the server with POST</h2>

<pre><code class="js">req.open('POST', 'http://google.com', true)
</code></pre>

<p><code>POST</code> is another HTTP verb. It means "save or update this data".</p>

<p>POST requests:</p>

<ul>
  <li>Have a body that contains the data for the server to process</li>
  <li>Can't be bookmarked</li>
  <li>Are used by form submission</li>
  <li>Are neato!</li>
</ul>

<aside class="notes">
  POST is another HTTP verb, just like GET. You send an HTTP request to a URL,
  but this time you say you are POSTing some data instead of GETting some.

  This means you want the server to save your data.
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/xmlhttprequest-post.html"><h2>XMLHttpRequest POST</h2>

<pre><code class="js">var req = new XMLHttpRequest()
req.onload = function() {
  console.log('wooo, we finished', req.status)
  console.log('our data is', JSON.parse(req.response))
}
req.open('POST',
  'https://shielded-fjord-9233.herokuapp.com/messages/jane-austen', true)
req.setRequestHeader('content-type', 'application/json')
var message = {
  username: 'Jane Austen',
  message: 'Silly things do cease to be silly if they are done by sensible people in an impudent way.'
}
req.send(JSON.stringify(message))
</code></pre>

<aside class="notes">
  Now we send some data to the server, instead of just get data back!
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/$.ajax.html"><h2>jQuery &hearts; AJAX</h2>

<p>The jQuery $.<a href="http://api.jquery.com/jQuery.ajax/">ajax</a> function is waaaaaaaaaaaay easier.</p>

<pre><code class="js">var message = {
  username: 'jamison',
  message: 'Hello GDI SLC!'
}

$.ajax('https://shielded-fjord-9233.herokuapp.com/messages/gdislc', {
  method: 'POST',
  contentType: 'application/json',
  data: JSON.stringify(message),
  success: function(data, status, jqxhr) {
    console.log('data is', data, 'status is', jxxhr.status)
  },
})
</code></pre>

<aside class="notes">
  Again, jQuery provides an easier abstraction over XHR, and it takes care of
  cross-browser problems for us.


  We are using a different function this time, $.ajax.

  Talk through each of the arguments, show the docs.


  Now you try! Open up your developer tools, and try to send a message to the API!
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/develop-it-exercise-4.html"><h2>Develop It! Exercise 4</h2>

<p>See the <a href="../exercies/4.html">exercise file</a> for details.</p>
<p>Use the <a href="../materials/json_starter.html"><code>materials/json_starter.html</code></a> file from the class exercises.</p>

<p>Update your previous exercise to use <code>$.ajax</code> to POST your message to the server when the user clicks the button. You should still insert the message into the DOM as well.</p>

<p>Make sure to handle errors!</p>

<aside class="notes">
  One theme you will notice over and over:

  PUT YOUR CODE IN FUNCTIONS. It should all be in functions. Functions make it easier to understand what your code is doing, easier to change, and easier to write.
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/putting-it-together.html"><h2>Making Chat Real</h2>

<p>Now for the fun part. We combine polling for new messages with POSTing messages
to the server.</p>
</section>


                    
                    
                
                    
                        
<section data-html="slides/develop-it-exercise-5.html"><h2>Develop It! Exercise 5</h2>

<p>See <a href="../exercises/5.html">the exercise page</a> for details.</p>
</section>


                    
                    
                
                    
                        
<section data-html="slides/common-gotchas.html"><h2>Common Gotchas</h2>

<ul>
  <li>Multiple AJAX requests don't return in order</li>
  <li>Not handling errors</li>
  <li>Hard to transfer files</li>
  <li>Browsers can over-cache/under-cache requests</li>
  <li>Cross-browser issues up the wazoo!</li>
</ul>
</section>


                    
                    
                
                    
                        
<section data-html="slides/big-donts.html"><h2>AJAX Mistakes</h2>

<p>AJAX lets you build new kinds of experiences, but it also creates new problems. As you learn more, here are a list of things to avoid:</p>

<ul>
  <li>Not having linkable state</li>
  <li>Not letting users know that something is loading</li>
  <li>Breaking the back button</li>
  <li><a href="http://ajaxpatterns.org/Ajax_Gotchas">More here.</a></li>
</ul>

<aside class="notes">
  This is a little overwhelming, but more of a pointer to learn best-practices as you level-up. Don't worry about doing it right, just do stuff for now.
</aside>
</section>


                    
                    
                
                    
                        
<section data-html="slides/homework.html"><h2>Homework</h2>

<ul>
  <li>We hard-coded everything to one room. Allow the user to switch rooms!</li>
  <li>Instead of having a text field for username, create a signing form that saves the username when the page is first loaded. Reuse that name instead of pulling it from a text field every time.</li>
  <li>Create a "firehose" view of messages that lists message from every room as they come in.</li>
</ul>
</section>


                    
                    
                
                    
                        
<section data-html="slides/wrapup.html"><h2>Thank You</h2>

<p>Questions for me? Just want to chat to follow up? Here are the best ways to contact me.</p>

<ul>
  <li><a href="https://twitter.com/jergason">@jergason</a> on Twitter</li>
  <li>The GDI-SLC Slack team (ask Stacie for an invite)</li>
  <li>Email me at <a href="mailto:hi@jamison.dance">hi@jamison.dance</a></li>
  <li>Comment on the <a href="http://www.meetup.com/Girl-Develop-It-Salt-Lake-City/events/221869353/">Meetup Page</a></li>
</ul>

<p>Please fill out the after-class survey at <a href="https://docs.google.com/forms/d/1APJvtkpIOaqN7sVl8WL668DiQhWDD9te3n_0RwwLxxU/viewform">https://docs.google.com/forms/d/1APJvtkpIOaqN7sVl8WL668DiQhWDD9te3n_0RwwLxxU/viewform</a> to help us improve the course.</p>
</section>


                    
                    
                
            </div>

        </div>

        <script src="bower_components/reveal.js/lib/js/head.min.js"></script>
        <script src="bower_components/reveal.js/js/reveal.min.js"></script>
        <script src="materials/lib/jquery.min.js"></script>
        <script>
            // Configure Reveal
            // Full list of configuration options available here:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,

                theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
                transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

                // Optional libraries used to extend on reveal.js
                dependencies: [
                    { src: 'bower_components/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'bower_components/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'bower_components/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'bower_components/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'bower_components/reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
                    { src: 'bower_components/reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
                ]
            });
        </script>

    </body>

</html>
